<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Plotability — Build your stories, faster.</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700;900&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0b0520;
      --card-bg: rgba(255, 255, 255, 0.03);
      --border: rgba(255, 255, 255, 0.08);
      --text-muted: rgba(232, 232, 247, 0.72);
      --accent-1: #B774F2;
      --accent-2: #FF5C9E;
      --accent-3: #FF3B47;
      --radius-lg: 32px;
      --radius-md: 20px;
      --shadow-soft: 0 40px 120px rgba(0, 0, 0, 0.55);
    }

    * {
      box-sizing: border-box;
    }

    html, body {
      margin: 0;
      padding: 0;
      background: radial-gradient(circle at 18% 20%, rgba(72, 32, 172, 0.22), transparent 34%),
                  radial-gradient(circle at 82% 16%, rgba(140, 30, 160, 0.12), transparent 40%),
                  linear-gradient(160deg, #00000f, #03002a 48%, #0b0042 100%);
      color: #fff;
      font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      scroll-behavior: smooth;
    }

    body {
      position: relative;
      overflow-x: hidden;
    }

    #starfield {
      position: fixed;
      inset: 0;
      z-index: 0;
      pointer-events: none;
      overflow: hidden;
    }

    #starfield canvas {
      display: block;
      width: 100%;
      height: 100%;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    h1, h2, h3 {
      font-family: 'Montserrat', 'Inter', sans-serif;
      margin: 0;
      letter-spacing: -0.03em;
      color: #fff;
    }

    p {
      margin: 0;
      color: var(--text-muted);
      font-size: 1.05rem;
      line-height: 1.7;
    }

    .page-shell {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      position: relative;
      z-index: 1;
    }

    .logo-container {
      position: fixed;
      top: clamp(20px, 5vw, 30px);
      left: clamp(100px, 12vw, 140px);
      z-index: 100;
      background: transparent;
    }

    .brand-icon {
      width: clamp(48px, 7vw, 80px);
      height: auto;
      display: block;
      object-fit: contain;
    }

    .nav-links {
      display: flex;
      align-items: center;
      gap: clamp(16px, 3vw, 32px);
      font-size: 0.95rem;
    }

    .nav-links a {
      color: var(--text-muted);
      transition: color 0.2s ease;
    }

    .nav-links a:hover {
      color: #fff;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      font-weight: 600;
      letter-spacing: -0.01em;
      border-radius: 999px;
      padding: 14px 26px;
      border: 1px solid transparent;
      transition: transform 0.25s ease, box-shadow 0.25s ease, background 0.25s ease;
      cursor: pointer;
      font-size: 0.97rem;
    }

    .btn-primary {
      background: linear-gradient(120deg, var(--accent-1), var(--accent-2));
      box-shadow: 0 18px 45px rgba(183, 116, 242, 0.35);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 28px 65px rgba(183, 116, 242, 0.45);
    }

    .btn-outline {
      border-color: rgba(255, 255, 255, 0.15);
      background: rgba(255, 255, 255, 0.02);
    }

    .btn-outline:hover {
      border-color: rgba(255, 255, 255, 0.35);
    }

    .hero {
      position: relative;
      overflow: hidden;
      min-height: 90vh;
      display: grid;
      align-items: center;
      padding: clamp(80px, 12vw, 160px) clamp(20px, 6vw, 40px) clamp(120px, 10vw, 160px);
    }

    .hero::after {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 20% 20%, rgba(183, 116, 242, 0.28), transparent 42%),
                  radial-gradient(circle at 80% 40%, rgba(255, 92, 158, 0.22), transparent 40%);
      opacity: 0.8;
      pointer-events: none;
    }

    .hero-grid {
      position: relative;
      z-index: 1;
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: clamp(50px, 7vw, 120px);
      align-items: center;
      max-width: 1180px;
      margin: 0 auto;
      width: 100%;
    }

    .hero-copy h1 {
      font-size: clamp(2.8rem, 8vw, 5.5rem);
      line-height: 0.9;
    }

    .hero-copy h1 span {
      -webkit-text-fill-color: transparent;
    }
    .hero-title-line {
      display: block;
      /* Rich multi-stop gradient (heavier on tangerine) */
      background-image: linear-gradient(120deg,
        #9F61F6 0%,    /* purple */
        #C56DF7 16%,   /* brighter purple */
        #FF5CAB 36%,   /* pink */
        #FF3D81 48%,   /* hot pink */
        #FF7A4F 64%,   /* orange-peach */
        #FF8A3D 80%,   /* orange */
        #FFA73A 100%   /* tangerine */
      );
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .hero-orange {
      /* Softer, more seamless pink → orange transition */
      background-image: linear-gradient(120deg,
        #FF5CAB 0%,   /* pink anchor */
        #FF68A0 22%,  /* gentle bridge pink */
        #FF7790 38%,  /* warmer pink */
        #FF865F 54%,  /* pink→orange bridge */
        #FF943F 70%,  /* balanced orange */
        #FFA74A 86%,  /* toned-down tangerine */
        #FFBB56 100%  /* softer highlight */
      );
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      color: transparent;
    }

    /* Vary each line slightly for more visual separation */
    .hero-title-line:nth-child(1) { /* Build your: varied violets → pink */
      background-image: linear-gradient(112deg,
        #7A4CF8 0%,    /* deep violet */
        #9459F7 12%,
        #B070FA 26%,
        #CFA6FF 42%,   /* soft lavender */
        #EA61EE 62%,
        #FF5CC6 92%
      );
    }

    .hero-title-line:nth-child(2) { /* stories: rich pink range with subtle purple base */
      background-image: linear-gradient(124deg,
        #9F61F6 0%,
        #C26BF7 10%,
        #E45BF0 28%,
        #FF4FD4 46%,
        #FF5CAB 64%,
        #FF6E93 82%,
        #FF7A7A 100%
      );
    }

    .hero-title-line:nth-child(3) { /* faster: pink → vivid tangerine (earlier and brighter) */
      background-image: linear-gradient(132deg,
        #FF4FC0 0%,
        #FF5CAB 14%,
        #FF6E86 32%,
        #FF884F 50%,   /* transition into orange around halfway */
        #FFA12F 66%,
        #FFBB1A 82%,
        #FFD43A 92%,   /* brighter tangerine */
        #FFE066 100%   /* punchy end highlight */
      );
    }

    .hero-subtitle {
      margin-top: 22px;
      max-width: 520px;
      font-size: 0.9rem;
    }

    .hero-cta {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 16px;
      margin-top: 34px;
    }

    .trust-bar {
      margin-top: 36px;
      display: flex;
      align-items: center;
      gap: 22px;
      font-size: 0.75rem;
      color: rgba(255, 255, 255, 0.65);
      white-space: nowrap;
    }

    .trust-bar::before {
      content: '';
      width: 40px;
      height: 2px;
      background: linear-gradient(90deg, rgba(183, 116, 242, 0.4), rgba(255, 59, 71, 0.4));
      border-radius: 999px;
    }

    .hero-visual {
      position: relative;
      display: flex;
      justify-content: center;
    }
    .hero-video-frame {
      width: min(520px, 100%);
      aspect-ratio: 16 / 10;
      border-radius: var(--radius-lg);
      border: 1px solid rgba(255, 255, 255, 0.06);
      overflow: hidden;
      box-shadow: var(--shadow-soft);
      background: linear-gradient(155deg, rgba(18, 16, 36, 0.9), rgba(12, 11, 20, 0.7));
    }
    .hero-video-frame::after {
      content: '';
      position: absolute;
      inset: 0;
      pointer-events: none;
      /* Subtle dark overlay to soften baked checkerboard backgrounds */
      background: linear-gradient(135deg, rgba(8, 4, 26, 0.35), rgba(8, 4, 26, 0.55));
    }
    .hero-video-frame video {
      width: 100%;
      height: 100%;
      display: block;
      object-fit: cover;
    }

    .hero-placeholder {
      width: min(440px, 100%);
      aspect-ratio: 4 / 5;
      border-radius: var(--radius-lg);
      background: linear-gradient(155deg, rgba(18, 16, 36, 0.9), rgba(12, 11, 20, 0.7));
      border: 1px solid rgba(255, 255, 255, 0.05);
      box-shadow: var(--shadow-soft);
      display: grid;
      place-content: center;
      padding: 0;
      overflow: hidden;
    }
    .hero-placeholder img { width: 100%; height: 100%; object-fit: cover; display: block; border-radius: inherit; }

    main {
      flex: 1;
    }

    .section {
      padding: clamp(80px, 12vw, 140px) clamp(20px, 6vw, 40px);
    }

    .section-inner {
      max-width: 1180px;
      margin: 0 auto;
      display: grid;
      gap: clamp(40px, 8vw, 80px);
    }

    .section-heading {
      display: flex;
      flex-direction: column;
      gap: 18px;
      max-width: 720px;
    }

    .section-heading h2 {
      font-size: clamp(2.2rem, 5vw, 3.6rem);
      line-height: 1;
    }

    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: clamp(22px, 4vw, 30px);
    }

    .feature-card {
      padding: 30px;
      border-radius: var(--radius-md);
      border: 1px solid rgba(255, 255, 255, 0.08);
      background: linear-gradient(155deg, rgba(255, 255, 255, 0.04), rgba(255, 255, 255, 0.01));
      backdrop-filter: blur(24px);
      position: relative;
      overflow: hidden;
    }

    .feature-card::after {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: inherit;
      background: linear-gradient(160deg, rgba(183, 116, 242, 0.18), transparent 55%);
      opacity: 0;
      transition: opacity 0.25s ease;
      pointer-events: none;
    }

    .feature-card:hover::after {
      opacity: 1;
    }

    .feature-card h3 {
      font-size: 1.25rem;
      margin-bottom: 14px;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 10px 18px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.08);
      color: rgba(255, 255, 255, 0.85);
      font-size: 0.85rem;
      letter-spacing: 0.02em;
      text-transform: uppercase;
    }

    .step-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 26px;
    }

    .step-card {
      background: var(--card-bg);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: var(--radius-md);
      padding: 32px 28px;
      display: grid;
      gap: 18px;
    }

    .step-number {
      width: 48px;
      height: 48px;
      border-radius: 15px;
      display: grid;
      place-items: center;
      font-weight: 700;
      color: #fff;
      background: linear-gradient(120deg, rgba(183, 116, 242, 0.6), rgba(255, 92, 158, 0.6));
      box-shadow: 0 10px 24px rgba(183, 116, 242, 0.3);
    }

    .callout {
      border-radius: var(--radius-lg);
      padding: clamp(50px, 7vw, 80px);
      background: linear-gradient(135deg, rgba(183, 116, 242, 0.18), rgba(255, 92, 158, 0.18));
      border: 1px solid rgba(255, 255, 255, 0.08);
      display: grid;
      gap: 26px;
      justify-items: start;
      text-align: left;
    }

    .callout p {
      max-width: 560px;
    }

    .waitlist {
      display: grid;
      gap: 14px;
      width: min(420px, 100%);
    }

    .waitlist input {
      width: 100%;
      padding: 16px 20px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.25);
      background: rgba(8, 8, 18, 0.65);
      color: #fff;
      font-size: 1rem;
      transition: border 0.2s ease, box-shadow 0.2s ease;
    }

    .waitlist input:focus {
      outline: none;
      border-color: rgba(183, 116, 242, 0.9);
      box-shadow: 0 0 0 4px rgba(183, 116, 242, 0.2);
    }

    footer {
      padding: 40px clamp(20px, 6vw, 40px) 60px;
      border-top: 1px solid rgba(255, 255, 255, 0.08);
      background: rgba(18, 10, 46, 0.78);
      backdrop-filter: blur(14px);
      color: rgba(255, 255, 255, 0.65);
      font-size: 0.9rem;
    }

    footer .footer-inner {
      max-width: 1180px;
      margin: 0 auto;
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      justify-content: space-between;
    }

    .privacy-note {
      max-width: 1180px;
      margin: 12px auto 0;
      color: rgba(255, 255, 255, 0.65);
      font-size: 0.82rem;
    }

    /* Responsive adjustments */
    @media (max-width: 980px) {
      header {
        position: static;
        background: transparent;
        backdrop-filter: none;
        box-shadow: none;
      }

      .nav {
        flex-direction: column;
        gap: 18px;
      }

      .hero {
        padding-top: clamp(110px, 20vw, 160px);
      }

      .hero-grid {
        grid-template-columns: 1fr;
        text-align: center;
        gap: 70px;
      }

      .hero-copy {
        display: grid;
        justify-items: center;
      }

      .hero-subtitle,
      .trust-bar {
        text-align: center;
        max-width: 640px;
      }

      .hero-cta {
        justify-content: center;
      }

      .trust-bar {
        justify-content: center;
      }

      .trust-bar::before {
        display: none;
      }

      .hero-visual {
        justify-content: center;
      }
    }

    @media (max-width: 640px) {
      .nav-links {
        flex-wrap: wrap;
        justify-content: center;
      }

      .btn {
        width: 100%;
      }

      .feature-card,
      .step-card {
        padding: 26px;
      }
    }
  </style>
</head>
<body>
  <div id="starfield" aria-hidden="true">
    <canvas id="starfield-canvas"></canvas>
  </div>
  <div class="page-shell">
    <div class="logo-container">
      <img class="brand-icon" src="assets/screenshots/plotabilityLogo.png" alt="Plotability logo">
    </div>

    <section class="hero">
      <div class="hero-grid">
        <div class="hero-copy">
          <h1>
            <span class="hero-title-line">Build your</span>
            <span class="hero-title-line">stories</span>
            <span class="hero-title-line">fas<span class="hero-orange">t</span><span class="hero-orange">e</span><span class="hero-orange">r</span></span>
          </h1>
          <p class="hero-subtitle">Plotability is your world-building workspace.</p>
          <div class="hero-cta">
            <a class="btn btn-primary" href="#waitlist">Get on the waitlist</a>
            <a class="btn btn-outline" href="#features">See how it works</a>
          </div>
          
        </div>
        <div class="hero-visual">
          <div class="hero-video-frame">
            <video id="hero-video" src="assets/screenshots/Seamless_Looping_Letterform_Animations.mp4" muted playsinline preload="metadata"></video>
          </div>
        </div>
      </div>
    </section>

    <main>
      <section class="section" id="features">
        <div class="section-inner">
          <div class="section-heading">
            <span class="pill">Built for the modern storyteller</span>
            <h2>The tools you need to visualize, organize, and evolve your narrative universe.</h2>
            <p>Plotability combines a minimalist interface with powerful structure so you can track the characters, research, places and plot threads of your narrative world with ease.</p>
          </div>
          <div class="feature-grid">
            <article class="feature-card">
              <h3>Card-based worldbuilding</h3>
              <p>Organize every character, place, item, and rule on flexible cards. Link them together to surface relationships across your world at a glance.</p>
            </article>
            <article class="feature-card">
              <h3>Continuity made easy</h3>
              <p>Plotability keeps track of timelines and interactions so you never lose sight of where key events happen or who’s involved.</p>
            </article>
            <article class="feature-card">
              <h3>AI that understands your lore</h3>
              <p>Search your world, brainstorm plot beats, and enrich cards with an assistant that only references the canon you’ve approved.</p>
            </article>
            <article class="feature-card">
              <h3>Offline-first workflow</h3>
              <p>Everything lives locally in your browser. Keep building even without Wi‑Fi, then sync when you’re ready.</p>
            </article>
          </div>
        </div>
      </section>

      <section class="section" id="workflow">
        <div class="section-inner">
          <div class="section-heading">
            <span class="pill">Quick start in two minutes</span>
            <h2>Structure your universe without slowing your creativity.</h2>
          </div>
          <div class="step-grid">
            <div class="step-card">
              <div class="step-number">1</div>
              <h3>Create your first project</h3>
              <p>Name your world, set a cover, and keep everything organized in one intuitive dashboard.</p>
            </div>
            <div class="step-card">
              <div class="step-number">2</div>
              <h3>Add your first cards</h3>
              <p>Drop in characters, places, items, or events. Summaries keep context crisp while detailed notes store deep lore.</p>
            </div>
            <div class="step-card">
              <div class="step-number">3</div>
              <h3>Link and visualize</h3>
              <p>Connect cards to track relationships and timelines. Switch between list and timeline views to see the full picture.</p>
            </div>
            <div class="step-card">
              <div class="step-number">4</div>
              <h3>Ask the AI for insight</h3>
              <p>Use Search My World to answer continuity questions and brainstorm new story beats without breaking canon.</p>
            </div>
          </div>
        </div>
      </section>

      <section class="section" id="ai">
        <div class="section-inner">
          <div class="section-heading">
            <span class="pill">AI that stays in sync with your world</span>
            <h2>Three powerful modes, one creative copilot.</h2>
            <p>Whether you’re researching, refining, or exploring possibilities, Plotability’s assistant adapts to the way you work.</p>
          </div>
          <div class="feature-grid">
            <article class="feature-card">
              <h3>Search the web</h3>
              <p>Bring outside knowledge into your world with targeted research. Every result stays separate until you decide to merge it in.</p>
            </article>
            <article class="feature-card">
              <h3>Search my world</h3>
              <p>Ask questions about your own canon. The AI references only the cards and connections you’ve created, so answers always stay true.</p>
            </article>
            <article class="feature-card">
              <h3>Card developer</h3>
              <p>Turn loose ideas into fleshed-out cards with guided prompts tailored to the card type you’re working on.</p>
            </article>
          </div>
        </div>
      </section>

      <section class="section" id="privacy">
        <div class="section-inner">
          <div class="callout">
            <span class="pill">Privacy by design</span>
            <h2>Your universe stays yours.</h2>
            <p>Plotability is local-first. Your cards, timelines, and summaries live in your browser’s storage. Nothing is uploaded or used to train AI models. When you save, you choose the secure destination on your device. Work offline, collaborate with trust, and back up whenever you choose.</p>
            <a class="btn btn-primary" href="#waitlist">Join the waitlist</a>
          </div>
        </div>
      </section>

      <section class="section" id="waitlist">
        <div class="section-inner">
          <div class="section-heading">
            <span class="pill">Early access invites</span>
            <h2>Be first in line when Plotability launches.</h2>
            <p>We’re rolling out invites in waves to ensure a polished experience for every storyteller. Reserve your spot and we’ll notify you as soon as we open the doors.</p>
          </div>
          <form class="waitlist" action="#" method="post">
            <input type="email" name="email" placeholder="yourname@email.com" required aria-label="Email address">
            <button class="btn btn-primary" type="submit">Save my place</button>
            <p style="font-size:0.85rem;">We’ll email you when Plotability is ready. No spam, ever.</p>
          </form>
        </div>
      </section>
    </main>

    <footer>
      <div class="footer-inner">
        <span>© <script>document.write(new Date().getFullYear());</script> Plotability. Built for storytellers everywhere.</span>
        <span>Contact: <a href="mailto:hello@plotability.app">hello@plotability.app</a></span>
      </div>
      <div class="privacy-note">Privacy by design. Works offline. Nothing leaves your browser unless you ask it to.</div>
    </footer>
  </div>
  <script>
  (function () {
    const STAR_COUNT = 144;
    const SPEED = 0.1;
    const LETTERS = 'abcdefghijklmnopqrstuvwxyz';
    const container = document.querySelector('#starfield');
    const canvas = document.getElementById('starfield-canvas');
    if (!container || !canvas) {
      return;
    }

    const context = canvas.getContext('2d');
    if (!context) {
      return;
    }

    class Star {
      constructor() {
        this.x = 0;
        this.y = 0;
        this.z = 0;
        this.prevX = 0;
        this.prevY = 0;
        this.char = LETTERS[0];
        this.size = 12;
        this.opacity = 0.6;
        this.rotation = Math.random() * Math.PI * 2;
        this.rotationSpeed = (Math.random() - 0.5) * 0.03;
      }

      reset(width, height) {
        this.x = Math.random() * width - width / 2;
        this.y = Math.random() * height - height / 2;
        this.prevX = this.x;
        this.prevY = this.y;
        this.z = 0;
        this.char = LETTERS[Math.floor(Math.random() * LETTERS.length)];
        this.size = 6 + Math.random() * 6;
        this.opacity = 0.034 + Math.random() * 0.217;
        this.rotation = Math.random() * Math.PI * 2;
        this.rotationSpeed = (Math.random() - 0.5) * 0.05;
      }

      update(width, height, speed) {
        this.prevX = this.x;
        this.prevY = this.y;
        this.z += speed * 0.0675;
        this.x += this.x * (speed * 0.0225) * this.z;
        this.y += this.y * (speed * 0.0225) * this.z;
        this.rotation += this.rotationSpeed * (1 + this.z * 0.9);

        if (
          this.x > width / 2 ||
          this.x < -width / 2 ||
          this.y > height / 2 ||
          this.y < -height / 2
        ) {
          this.reset(width, height);
          this.z = 0;
        }
      }

      draw(ctx) {
        const scale = 1 + this.z * 0.5;
        ctx.save();
        ctx.translate(this.x, this.y);
        ctx.rotate(this.rotation);
        ctx.globalAlpha = Math.min(this.opacity + this.z * 0.11, 0.32);
        ctx.fillStyle = '#c7c2f6';
        ctx.font = `${(this.size * scale).toFixed(2)}px 'Inter', 'Montserrat', sans-serif`;
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.fillText(this.char, 0, 0);
        ctx.restore();
      }
    }

    const stars = Array.from({ length: STAR_COUNT }, () => new Star());
    const fadeFill = 'rgba(0, 0, 18, 0.46)';
    let animationId = 0;

    const step = () => {
      const width = container.clientWidth;
      const height = container.clientHeight;

      context.fillStyle = fadeFill;
      context.fillRect(-width / 2, -height / 2, width, height);

      for (const star of stars) {
        star.update(width, height, SPEED);
        star.draw(context);
      }

      animationId = requestAnimationFrame(step);
    };

    const resize = (widthOverride, heightOverride) => {
      if (animationId) {
        cancelAnimationFrame(animationId);
        animationId = 0;
      }

      const width = widthOverride ?? container.clientWidth;
      const height = heightOverride ?? container.clientHeight;
      if (!width || !height) {
        return;
      }

      const ratio = window.devicePixelRatio || 1;
      canvas.width = width * ratio;
      canvas.height = height * ratio;
      canvas.style.width = `${width}px`;
      canvas.style.height = `${height}px`;

      context.setTransform(1, 0, 0, 1, 0, 0);
      context.scale(ratio, ratio);
      context.translate(width / 2, height / 2);

      stars.forEach((star) => star.reset(width, height));
      animationId = requestAnimationFrame(step);
    };

    if (typeof ResizeObserver !== 'undefined') {
      const observer = new ResizeObserver((entries) => {
        if (!Array.isArray(entries) || !entries.length) {
          resize();
          return;
        }
        const { width, height } = entries[0].contentRect;
        resize(width, height);
      });
      observer.observe(container);
    } else {
      window.addEventListener('resize', () => resize());
    }

    resize();
  })();
  </script>
</body>
<script>
  (function () {
    const video = document.getElementById('hero-video');
    if (!video) return;

    let reversing = false;
    let rafId = 0;
    const reverseSpeed = 1.0; // seconds per second when reversing

    const stopReverse = () => {
      if (rafId) {
        cancelAnimationFrame(rafId);
        rafId = 0;
      }
    };

    const reverseStep = (prevTs) => (ts) => {
      if (!reversing) return;
      const dt = (ts - prevTs) / 1000; // ms → s
      video.currentTime = Math.max(0, video.currentTime - dt * reverseSpeed);
      if (video.currentTime <= 0.001) {
        reversing = false;
        stopReverse();
        // play forward again
        video.play().catch(() => {});
        return;
      }
      rafId = requestAnimationFrame(reverseStep(ts));
    };

    const startReverse = () => {
      reversing = true;
      stopReverse();
      rafId = requestAnimationFrame(reverseStep(performance.now()));
    };

    video.addEventListener('loadedmetadata', () => {
      // Autoplay forward on load
      video.currentTime = 0;
      video.play().catch(() => {});
    });

    video.addEventListener('ended', () => {
      // When forward playback ends, reverse
      startReverse();
    });

    // In case user switches tabs and timers pause, ensure no audio
    video.muted = true;
  })();
  </script>
</html>
